<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 1. 定义一个含有30个整型元素的数组，按顺序分别赋予从2开始的偶数；然后按顺序每五个数求出一个平均值，放在另一个数组中并输出。试编程。
        var arr = new Array(30);
        for (var i = 0; i < 30; i++) {
            arr[i] = (i + 1) * 2;
        }
        console.log(arr);
        var resultArr = [];
        for (var i = 4; i < 30; i += 5) {
            var abs = 0;
            for (var j = i - 4; j <= i; j++) {
                console.log(arr[j]);
                abs += arr[j];
            }
            resultArr.push(abs / 5);
            console.log(resultArr);
        }


        // 2. 通过循环按执行顺序，做一个5×5的二维数组，赋1到25的自然数，然后输出该数组的左下半三角。试编程。
        var arr = [];
        for (var i = 0; i < 5; i++) {
            arr[i] = [];
            for (var j = 0; j < 5; j++) {
                arr[i][j] = j + 1 + i * 5;

                // if (j <= i) {
                //     document.write(`${arr[i][j]} | `);
                // }
                j <= i && document.write(`${arr[i][j]} | `);
            }
            document.write('<br>');
        }
        console.log(arr);


        // 1. 随机生成一个五位以内的数，然后输出该数共有多少位，每位分别是什么
        var randomNumber = parseInt(Math.random() * (90000)) + 10000;
        strArr = (randomNumber + '').split('');
        console.log('随机生成了', randomNumber, `共有${strArr.length}位，分别为：`);
        for (var item of strArr) {
            console.log(item);
        }


        // 2. 编写函数map(arr) 把数组中的每一位数字都增加30%，并返回一个新数组
        var arr = [10, 100, 1000]
        function map(arr) {
            return arr.map(function (item) {
                return item * 1.3
            })
        }
        console.log(map(arr));


        // 3. 编写函数has(arr , 60) 判断数组中是否存在60这个元素，返回布尔类型
        var arr = [1, 2, 3, 60]
        var arr2 = [1, 2, 3]

        function has(arr, item) {
            return arr.indexOf(item) !== -1;
        }

        console.log(has(arr, 60)) // true
        console.log(has(arr2, 60)) // false


        // 1. 编写函数norepeat(arr) 将数组的重复元素去掉，并返回新的数组
        var arr = [1, 1, 2, 3, 4, 4, 2, 1, 3, 5]

        function norepeat(arr) {
            var resultArr = [];
            for (var i = 0; i < arr.length; i++) {
                arr.indexOf(arr[i]) === i && resultArr.push(arr[i]);
            }
            return resultArr;
        }
        console.log(norepeat(arr)) // [1, 2, 3, 4, 5]


        // 2. 有一个从小到大排好序的数组。现输入一个数，要求按原来的规律将它插入数组中。
        function getRandomSortedArr(length = 7, r = 10, direction = true) {
            var sortedArr = new Array();
            for (var i = 0; i < length; i++) {
                sortedArr.push(undefined);
            }
            sortedArr.forEach(function (item, index) {
                item = parseInt(Math.random() * r);
                sortedArr[index] = item;
            })


            function sort(arr) {
                // 选择排序
                for (var i = 0; i < arr.length - 1; i++) {
                    var min = arr[i];
                    var temp;
                    for (var j = i + 1; j < arr.length; j++) {
                        if (arr[j] < min) {
                            temp = arr[j];
                            arr[j] = arr[i];
                            arr[i] = temp;

                            min = arr[i];
                        }
                    }
                }
                // sort方法
                if (!direction) {
                    arr.sort(
                        function (a, b) {
                            return b - a;  // 从大到小
                        }
                    )
                }
            }
            sort(sortedArr);

            return sortedArr;
        }
        console.log(getRandomSortedArr(7));
        console.log(getRandomSortedArr(7, 77, false));

        console.log("----------");
        var jackArr = getRandomSortedArr(7, 100);
        console.log('JACKarr', jackArr);

        function insertOneSortedNumber(number, targetArr) {
            var n = targetArr.length;
            var condition = targetArr[n - 1] > targetArr[0];

            for (var i = 0; i < n - 1; i++) {
                var max = Math.max(targetArr[i], targetArr[i + 1]);
                var min = Math.min(targetArr[i], targetArr[i + 1]);
                if (number >= min && number <= max) {
                    targetArr.splice(i + 1, 0, number);
                    return targetArr;
                }
                if (condition && number > targetArr[n - 1] || !condition && number < targetArr[n - 1]) {
                    // targetArr.splice(n, 0, number);
                    targetArr.push(number);
                    return targetArr;
                }
                if (condition && number < targetArr[0] || !condition && number > targetArr[0]) {
                    // targetArr.splice(0, 0, number);
                    targetArr.unshift(number);
                    return targetArr;
                }
            }
        }
        console.log('JACKarr', insertOneSortedNumber(7, jackArr));
    </script>
</body>

</html>